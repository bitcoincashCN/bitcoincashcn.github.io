---
layout: post
title:  "比特币的分叉币逻辑和历史"
date:   2019-06-11
categories: 比特币理论研究
tags: BTC 理论研究 分叉币 BCC BCH
---

* content
{:toc}

# “分叉”是什么

## 分叉的一般定义

分叉（fork）是在软件开发的过程中，复制了一份代码并进行了修改，都称为分叉，即改出来的代码视为原来代码的一个分支。这是一种非常普遍的行为，在开源社区，任何开源代码都是公开的，任何人可以拷贝一份回来自己改，改出来一个不同的分支版本。把分支版本上传后，在你的分支版本基础上，其他人还可以继续分叉。

随着分叉的增多，一个软件的分叉呈现树形结构，有些软件因为参与开发的人很多，呈现出枝繁叶茂的分叉树形态。

## 分叉的一般意义

### 版本管理的意义

在一个版本里面有很多修改，这个版本的差异跟上一个版本就会很大，一个版本有10个修改，跟有10个分叉，每个分叉有一个修改，从软件工程的角度，可以精确测试每个修改的变动，便于定位错误、测试、修订。因为开源社区，对同一份代码进行修改的人不同，而且互相不认识，所以不需要征得原作者同意，直接分叉出来，即可获得一份自己具有修改权限的分叉版本，等开发出来好用的功能代码，再提交给原作者审核合并到他的发行版本里面，或者自己独立发行。

### 迭代改进开发的意义

我们人类对未知的探索需要有大量的摸索、试错、实验，我们无法预设一条完美路径，然后去走，在科学创造、技术研发领域，真实情况是万箭齐发，全面探索，然后最后撞到“大运”，发现（发明）了有用的东西。分叉允许不同的思路和方法并行探索，任何人都可以去探索一条路子，扩大我们未知的知识图谱。

### 开源社区社会化协作的意义

开源软件社区的协作是一种共产主义式的社会化生产，如果没有版本管理和分叉，是进行不下去的。以github为代表的开源代码托管平台，提供了完整的代码库版本和分叉权限管理功能，让全社会所有人，都可以从上面获得代码，并进行开发劳动、上传代码。不同的分叉独立探索，也可以合作，探索的成果还可以共享，探索的过程以子分叉的形式进行，而好的成果被合并形成主干分叉版本。

### 多样化的版本满足差异化的需求

以Linux为例，有Ubuntu、Debian、Centos、redhat、fedoro等大的分类版本，还有桌面版、服务器版、嵌入式版、精简版、稳定版、测试版、不稳定版、预览版等等的子分类版本。这些不同的linux满足了不同场景的差异化需求。这类版本介绍在网上的信息很多，这里就不详细展开阐述。

## 比特币分叉的特点

比特币是由软件实现的，而且也是开源的。比特币的代码一样是枝繁叶茂的各种分叉。任何人都可以修改代码，形成自己的分叉。这些比特币的代码分叉，有一些功能会被纳入"共识版本”，被所有比特币的使用者所使用，而有些代码无法进入“共识版本”，只用于少数范围内的测试调试。

决定哪些代码纳入共识版本的因素有：
* 技术社区的代码严格审计和论证
* 算力投票
* 节点投票

这些因素决定了绝大部分使用者同意的代码，才是共识版本。每一次共识版本的升级，都通过以上因素决定，到目前为止，比特币已经发布过几十次共识版本，相对于最初的版本，里面包含了至少几百项的改动和改进。

我们知道，比特币不仅仅是一种软件，我们更多的是把比特币当成一种“币”，如果每一种版本里面的“币”都不同，那么哪个是比特币，这个问题就产生了，而这对于比特币的“货币属性”是有极大的影响的，“币”的基础属性要求就是稳定和一致，随便印的币，会造成流通混乱，最后无法被信任使用。比特币通过“共识版本”解决这个问题，我们认为共识版本的比特币就是比特币。

代码不断迭代，共识版本有多个，如果不同的共识版本都是互相兼容的，老版本和新版本可以同时使用，所有的版本都保存同一种币，即比特币。而如果共识版本前后不兼容，麻烦就来了，老版本和新版本不能同时使用，新老版本保存两种不同的币。面对这种麻烦，可以争论到天昏地暗，上升到哲学层面去展开，包括什么忒修斯之船之类的哲学理论，都未必能够解决。

因为技术、哲学没法为这个问题提供确定性的标准，所以，基于现实（政治）考虑，目前比特币的共识版本升级已经确立了“永远软分叉”的技术升级路线，即每一个新版本必兼容老版本的共识版本。这不是某个人或组织主观的标准定义，而是多方政治博弈形成的事实上的形势。即一个新版本的（候选）共识版本如果不兼容老版本，导致老版本和新版本会形成2种币，那么这个共识版本基本上无法通过成为共识版本。详细的阐释见【论比特币“永远软分叉的开发路线”】

不用上升到哲学层面去解释，任何版本的比特币钱包，均只保存一种币，即比特币。是比特币获得“币”属性增强的有效手段，包含“存续时间信用”、“稳定形态表现信用”、“不可造伪信用”，这些属性对于货币都是极其重要的。

否则的话，比特币就很可能会成为“一种点对点的在线支付记账软件”，而不是“一种币”。理解这两者之间的差异，对理解比特币的分叉有至关重要的意义。“币”是什么，大部分人也许不能精确解释，但是绝大部分人都能感觉到“币”是什么。本文无意陷入经济学、哲学议题，只是对现状的关注和分析。

比特币的代码上的分叉是随意进行的，但能够被选择进入“共识版本”的代码，必须经过强有力的“共识决策”过程，不兼容的版本会产生两种币，乃至多种币，比特币的分叉已经超越了代码分叉、软件分岔的涵义，我们在谈论比特币分叉币逻辑和历史，不是讲比特币代码分叉的逻辑和历史，而是讲绕开共识版本制造“分叉币”、伪装共识版本、共识版本争议等分叉币的逻辑和历史。

# 比特币的分叉币历史

## 分叉币的种类

任何复制了比特币代码，在做了修改之后发布的币种，均可称为分叉币。比特币的分叉币有以下三类：

* 第一类：Block 0分叉

复制比特币的代码并修改进行分叉，但从Block 0重新开始挖矿，“新币”和比特币没有交集，早期的莱特币、狗狗币、域名币、点点币，都属于这一类。

* 第二类：Block x分叉

复制比特币的代码并修改，同时复制比特币的区块数据，在某个区块高度继续开挖新币，“新币”在block x之前的币属于旧币的持有者，而新币由矿工新挖。

比特币现金(Bitcoin Cash）、比特币糖果（Bitcoin Candy）、比特币披萨（Bitcoin Pizza）、比特币上帝（Bitcoin God）、比特币信仰（Bitcoin Faith）、比特币钻石（Bitcoin Diamond）、比特币黄金（Bitcoin Gold）、比特币原子（Bitcoin Atom），都属于这一类。

* 第三类：原链分叉币

原链分叉币其实不是分叉币，它是“被分叉币”，是非常特殊的一种存在。目前为止，比特币并不存在原链分叉币，其它币种出现原链分叉币有ETC（ETH的原链）和BCC（BCH的原链），因为ETC已经硬分叉升级了，原链也不存在了，而BCC是目前唯一存在的原链分叉币，是我们研究的一个对象。A币分叉出B币，然后B币使用了A币的名字，这时候好像产生了一种新币X，其实它就是原来的A。

## 第一类分叉币的历史

比特币在2009年产生，而在2011~2013年期间，已经有了数千种币，这些币大部分只是复制比特币的代码，并作了一小部分的修改，甚至只是改一个名字，就发布出来了。所以这些币，都可以视为比特币的分叉币。这类分叉币主要是复制比特币的代码，修订算法，发行总量等参数，各自的主链独立，但都没有复制比特币的区块数据，而是重新从block 0开始挖矿。这类分叉币均各自独立命名，各自规划各自的开发路线，被市场视为全新的币种，在2015年之后，随着用以太坊发行Token的兴起，有一些币种放弃主链条成为了以太坊上面的Token存在。

这一时期创造的币，在市值前100百名以内的，只有莱特币、狗狗币等寥寥无几的品种，其他大部分因为找不到存在的意义，已经走向消亡或式微。

## 第二类分叉币的历史

2017年，以大矿工为主导的BCH分叉，是第二类分叉币的第一个品种，之后在一年内这一类分叉币冒出来45个品种甚至更多。这类分叉，因为将block x之前的“新币”空投给了比特币持有者，也因此获得了一些比特币的用户。

这两年创造的这批分叉币，大部分同样因为找不到存在的意义，已经走向消亡和式微。


## “比特币”夺名分叉的历史

所有的分叉币都有独立的名字，但是有一些分叉币展现出了宏大的理想，期望领先实现比特币的目标，并取代比特币的名号。在2017年BCH出现之后，它的名字是bitcoin cash，接着出现了BCH才是真正的比特币这个呼声，类似的呼声现在还有BSV才是真正的比特币。因此，展开了比特币夺名分叉的历史，这里面包含了一系列轰轰烈烈，甚至可歌可泣的奋斗历程。

我们知道，软件的分叉可以枝繁叶茂，Linux分为Ubuntu、Debian、Centos、Redhat等几大分支，每个分支还有很多细小的分支，但是这些分支都没有夺名的动机，都可以和平共处，共用Linux的内核，这种开源软件的名字，应该没有商标所有权的问题，没有任何一个公司、个人、组织拥有Linux、比特币的法律商标专利权。在软件分叉里面没有发生的问题，在币圈发生了，也证明了，币圈的分叉跟软件的分叉是有显著的差异的，在夺名的背后，是因为“币”的属性更要强于其软件的属性。

“名”本质上是虚无的，但对于“币”而言，“名”有现实上的意义，因为有了意义，便产生了争夺。从软件的角度，Ubuntu、Debian、Centos、Redhat都可以称自己为linux，没有毛病，同理，一千种分叉币，其实也可以称自己为比特币，也没有毛病。差别在于比特币是要花钱去买的，而linux是可以无偿使用的，所以比特币之“名”必然只能属于一种币，而不能属于多种币，用软件的思维套在“币”上，矛盾出现了。

### 夺名动机的来源

比特币夺名的动机其实来源于比特币自身，比特币类似一个魔戒，它采用数学系统实现自身属于胜者的定义，算力最强者获得出块奖励。这种奖励系统背后的意图是制造一个博弈论上的囚徒困境，矿工拼死争夺比特币，但产出恒定，迄今为止，比特币的算力已经上涨千亿倍（12位数），但是10分钟一个块(统计学上的意义）没有变，矿工投入更多，所得没有增加，而且不增加还会吃亏，这类始于各国的军事竞赛，增加军备不会扩大领土面积，但是不增加也不行。比特币有一个解决“拜占庭将军的难题”的理论，使矿工可以合作团结出块，但却设置囚徒困境，使矿工无法达成同步减低算力的共识（现实中同步裁军也很难进行）。

深陷囚徒困境的大矿工联合部分利益群体开启了一项冒险事业，即重造一个比特币，以及发起夺名运动，这群比特币的囚徒发起了进攻。这第，是夺名动机的来源，不过矿工很快发现，重造一个比特币，消灭一个比特币，等于重现了原来的囚徒困境，两币齐挖、多币齐挖貌似更好。

### 比特币夺名的发展

归根结底，这是由于利益格局造成的动机，其他的各种理由和说法，都是服务于这个动机的。当有人发现夺名有好处的时候，就会夺名，当发现夺名没有实质好处的时候，就会取消夺名，今天夺名的动机已经从大矿工转移到了交易市场的投机者身上。在未来，一旦有人发现，树立比特币的唯一性正宗地位，具有潜在的利益，原来主张夺名的人，也完全可能转变为支持全力消灭分叉币。总而言之，追求利益最大化的本质动机没有变，因应形势风向多变，认死理者更容易成为下游的韭菜。

在2016-2017年的时候，有一群人找各种理由让比特币硬分叉，表面上看起来是主张某种技术路线，产生了大量的争论，这些争论表面上看也是技术争论，但是我们知道，从来不会有人带领1000个不懂技术的人去linux社区争论内核的CPU线程优化机制，应该采取何种方式为佳。出现这种情况，解释来解释去的，归根结底是有深刻的改变利益格局的考虑，假如有人想好了，就是要制造两个比特币，一边一个，那么硬分叉原链算力高，他就会去挖新链，反过来新链算力高，他就会去挖原链。对于意图突破囚徒困境的大矿工而言，用什么版本不重要，分叉成两个比特币很重要。

比特币在2017年最终确立了软分叉的升级路线，人心所向是统一的比特币，分裂无望，于是BCH直接出现了。BCH出现一段时间，开始有人把BTC定义为BCE，然后也没把BCH称呼为BTC，更多的是称呼为BCH，这种思路脑洞是有点大的，但也挺新奇，让人看到感觉眼前一亮，我有时也在网上搜集BCE的信息。还有人把BTC称为Bitcoin Core，后来真有人做了一个币称为Bitcoin Core。

到了2019年，分叉自BCH的BSV出现了，BSV并没有主张自己是正宗的BCH，而是主张自己是正宗的BTC，在很多关于BSV的文章的前面，一般可见这么一句话：下文的BTC指的是BSV的BTC，不是那个你懂的BTC的BTC。这个逻辑浅显易懂，比BCE有了很大的进步。

### 比特币之名的标准是什么？

没有谁能够规定哪种币应该叫做比特币，这其实是一种约定成俗，所有人都同意某种币称为比特币，其实也没有人反对，一小部分主要另外一种币是比特币，就要经过奋斗乃至战斗，去争取其他人的支持，让他主张的那种币被绝大部分人认为是比特币，比特币对此没有意见，而这类人除了有发财的想法之外，其实也没有其他的想法来实现他的目标。

哪种币应该持有比特币之名没有一个硬性的标准，比特币的创立者（早就跑路了）也没有制定这个标准。在比特币圈子里面，主要有以下各种说法：

* 最强算力的链条是比特币
* 累积最长工作量的链条是比特币
* 存在时间最长的链条是比特币
* 挖矿难度最高的链条是比特币
* 最多节点支持的链条是比特币
* 交易量最多的链条是比特币
* 市值最高的链条是比特币

其实这些说法，也没有绝对的共识，后来又有了支持大区块才是比特币的说法，BCH的区块大小为8MB，后来逐步扩容为32MB，而BSV一步到位扩大到了128MB，大有以区块大小论比特币的感觉。这些逻辑，总归是有一部分人相信的，所以只要有人信了，就有市场，所以在夺名运动中，只要有一个逻辑有人认可，就会有人想办法迎合这个逻辑，BCH直接延用BTC的难度系数，这样看起来它就很像是比特币的一次共识版本硬分叉，但它改了难度调整方式，迅速下降了难度，又有点不像了。BCH因为宣传了大区块的好处，逐步扩容到32MB，但实际区块利用率只有0.3MB。

这些关于比特币的标准，我们不知道哪种靠得住，夺名者也很难自圆其说，有些说法如同儿戏。

从常识角度，凡是“币”在稳定性和一致性方面有很刚性的需求，这是其信用价值的基础，比如白金，各方面指标比黄金好，但是黄金毕竟流行千年，在货币信用这方面，黄金是强于白金的。比特币因为有先发优势，且逐步确立了永远软分叉的技术路线，大体上来说，其各项指标优势，只要没有被全方位超越，其积累的时间信用极有可能成为事实上的标准。

# 关于原链分叉币的探讨

## 原链分叉币的特殊性

在币圈原链分叉币的出现是非常麻烦的事情，如【论比特币的永远软分叉开发路线】所言，永远软分叉从技术上可以规避原链分叉币的出现，而硬分叉的升级，每一次都可能会导致原链分叉币的产生。

但是我们今天看到，其实产生的原链分叉币也不多，是因为原链分叉币的产生有几个前提条件：

* 原链分叉只能发生在共识版本升级期间

任何一个共识版本的升级经过广泛的社区化讨论和论证，

* 共识产生了分歧或分裂



* 需要有足够大的算力支撑







## 原链分叉币的开发价值




## 原链分叉币的治理策略




