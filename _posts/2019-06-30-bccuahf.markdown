---
layout: post
title:  "BCC/BCH起源的不完整历史"
date:   2019-06-30
categories: 历史追溯
tags: BCH历史 BCC历史 BCC起源 UAHF
---

* content
{:toc}

# 开发者的BTC硬分叉路线

## 比特币的客户端类型

除了占据绝对主流的Bitcoin Core版本之外，还有BU（比特币无限）、Classic（比特币经典）等其它分支版本，起步遵循相同的共识机制，在2016年起因为扩容方式的争议开始了不同的开发路线。

## BCC项目起源

比特币现金是由2016年3月ftrader / Freetrader 开始的最小Viable Fork项目演变而来的，并在/r btcfork和/r btc中进行了讨论。Freetrader在博客上写了很多。如果您阅读他的帖子，您可以看到他的初始原型是基于比特币经典。2016年10月，制作了基于比特币核心的MVF版本。

## BU因漏洞失去共识支持

MVF的发展在2016年下半年停滞不前，当时似乎比特币无限（BU）的新共识提案可能会获得采用，但在2017年初再次升温，当BU在一些远程崩溃0天漏洞被发现并被用于对抗后失去了支持。

BU于3月15日和4月再次出现。Freetrader于4月重启了他在MVF上的BU工作。

## Bitcoin ABC的出现

比特币ABC的第一次提及是从2017年5月7日。ABC项目由deadalnix启动，但与ftrader使用Core作为基础而不是BU或Classic的工作大致相同。那时，ABC只是Core的0.14版本减去RBF和Segwit; 它还没有任何块大小的变化。Deadalnix向Freetrader伸出手，问他是否愿意帮忙，Freetrader做了。Freetrader在2017年5月21日或之前制作了比特币ABC的第一个原型，其块大小限制超过1MB，同时仍然在比特币无限版MVF上并行工作。

在Bitmain甚至提到对应急计划的支持之前，Ftrader和deadalnix继续在Bitcoin ABC工作了几个月，他们的应急计划基本上与2016年6月提出的ftrader和singularity87相同（但有更多的改进和细节）在Segwit激活以增加块大小限制之前，从BTC执行少数硬分叉，并以确保尽可能清晰的分离方式。

比特币ABC于2017年7月1日由ftrader和deadalnix向公众宣布，在deadalnix和ftrader开始工作后约2-3个月，以及Bitmain宣布其支持UAHF的意图2周后。

## BCC/BCH分叉时的兼容节点客户端

在BCH分叉的日期，有四个独立的兼容全节点客户端：

* 比特币ABC，主要由Amaury Sechet / deadalnix和freetrader开发;

* 比特币无限制，由BU团队（Andrew Stone / thezerg，Peter Tchipper，Andrea Suisani / sickpig，Peter Rizun，freetrader和其他一些人开发，并由匿名捐赠者在2016年资助他们的Emergent Consensus提议）;

* 比特币经典，最初是由加文安德烈森在jtoomim的帮助下开发的，但汤姆·桑德尔对其进行了广泛的改造。

* 比特币XT，由Gavin Andresen和Mike Hearn开发，后来由Tom Harding / dgenr8和dagurval开发

## 开发者经费来源

在那些开发人员中，唯一在他们为这些客户工作时收到钱的人可能是deadalnix（据称但未经证实由Bitmain支付）和Gavin（麻省理工学院数字货币计划）。其他人都是志愿者。当时，BU的资金仅用于支付会议费，差旅费和20,000美元的奖金; 在BCH硬分叉之后，BU才开始向开发者支付费用。

# 大矿工的硬分叉动机来源

中本聪发明比特币，给比特币矿工设置了一个囚徒困境，而比特大陆就是这个困境中的囚徒。

按照比特币的算法，10分钟的间隔固定产出一个块，作为矿工的报酬，不管有多少矿工，多少算力，比特币网络会自动调整难度，最终使平均出块时间等于10分钟。全世界所有的矿工在同步争夺这个出块奖励，从统计的结果来看，全世界的矿工按照贡献的算力比率获得比特币出块奖励。从理论上讲，所有的矿工同步降低算力，得出的算力比率不变，矿工收益不变，但是矿工无法协商达成一致。

这种情况类似国与国之间的军备竞赛，所有国家为了世界和平不断投入国防预算，而实际上同步废除全部军队装备也可以实现世界和平，但是按博弈论观点，这种共识无法达成，是为【囚徒困境】。

比特大陆作为挖矿芯片的厂商，绝大部分收入来自于向矿工销售矿机，如上所述，我们知道比特币的囚徒困境决定了，每10分钟，全世界的矿工所能获得的比特币的是固定的，直白点说，卖100万台矿机、1亿台矿机给矿工，矿工所能够的获得比特币是固定的，从比特币经济体的挖矿总量上看，不会因为矿机增加了百倍，挖矿产出就增加百倍。因为矿工会竞争，不断扩大挖矿投入，直到无利可图（挖矿成本接近产出）才会停止，所以矿机商能够卖出足够多的矿机直到接近挖矿成本红线，从这一点讲，矿机商处于矿工上游，也是比特币挖矿囚徒困境的受益者，行情好的时候，在挖矿生态里面矿机商获利最大，远大于矿工。

每10分钟，矿工挖到手的比特币是固定数量，矿工卖出比特币，然后向比特大陆购买矿机和芯片，所能支付的费用是相对固定的，比特币价格一直涨，矿工就会买更多的矿机，但显然，比特币价格上涨是有极限的，它的价格受限于市场对比特币的需求，何况还会有下跌的情况。在比特币不断上涨的行情下，比特大陆通过销售矿机，自建矿场，获得很大的利润增长空间，但行情遇冷之时，矿机就会跌价都卖不出去，这家公司很快地发现，自身深陷中本聪的囚徒困境中无法自拔。

这是大矿工集团支持硬分叉的内在动机来源，至于选择什么硬分叉，只需要符合两个条件：1、可以消耗大量的算力（矿机）；2、与比特币完全一致的算法。其它的因素或者面上的理由并不重要，基于这个动机，大矿工集团一定会深度介入及促成硬分叉的发生，如果没有发生，那就自己造一个。

具体的操作方法：

* 大量购入分叉后的币（BCC/BCH），拉高市值
* 大量的矿工（采购矿机）涌入挖矿
* 卖出矿机回收买币的钱，继续囤币
* 如果有大量的散户跟进，可以一直无穷循环以上流程
* 如果没有大量的散户跟进，币价会缓慢下跌，套牢住矿工（等于无息获得矿工贷款）

# 交易所支持BCH的冷启动

很多比特币现金的早期支持来自ViaBTC的Haipo Yang。ViaBTC的交易所是第一个提供BCH交易对的交易所，而ViaBTC也是第一个支持BCH（BCC）的公共矿池。而且有人说，Haipo Yang创造了比特币现金（Bitcoin Cash）这个名字，ViaBTC在BCH的部署中发挥了重要作用，远远超过Roger Ver或Craig Wright，并且对比特大陆（bitmain）具有相当大的影响力。对于比特大陆而言，有一个明确的需要硬分叉的动机，因此迅速加入到了BCH的支持阵营。

然而这段历史很少被提及，因为Haipo Yang是那种悄悄地建造有用的东西的人，而不仅仅是像Craig Wright和Roger Ver这样的著名言论者。而后，拥有大算力的Jihan Wu则获得了更大的话语权和主导权，这导致最终Craig Wright创立了BSV。

# UAHF升级路线的流产

UAFH即用户激活硬分叉，该Bitmain UAHF应急计划的博客文章是在2017年6月14日发出。这是比特币现金史上第一个受到广泛听众欢迎的活动，这已经是比特币现金从萌芽开始的15个月之后。

UAHF的具体操作方式：

* 在一种BTC的客户端（Bitcoin Classic）上，直接迁移到BCH。
* 该客户端的BTC消失了，然后变成BCH。
* 因为他们认为BCH(BCC)就是BTC。

UAHF的具体实现版本Bitcoin Classic开发组，在没多久之后就发布了[关门公告](https://bitcoinclassic.com/news/closing.html)。

UAHF版本的下载：[Bitcoin Classic](https://github.com/bitcoinclassic/bitcoinclassic/releases)

# BCC/BCH真正的煽动者

真正的煽动者是社区成员，如ftrader，deadalnix，singularity87，BU工作人员，Electron Cash工作人员（Calin Culianu，kyuupichan，Jonald Fyookball等）以及其他许多以各种方式做出贡献的人。

罗杰本人其实并不完全支持比特币现金，直到后叉。最初，他对Segwit2x抱有希望。他在2017年8月1日关于谁支持比特币现金的文章中明显遗漏了他的名字。仅在Segwit2x于2017年11月8日失败后才开始支持BCH。

另一方面，Craig Wright在早期就赞扬了比特币现金计划，可能主要是因为他出于某种原因讨厌Segwit。但他没有做任何事来帮助创建BCH; 他只是表示赞成它。大多数人并没有认真对待他，但是一个谦虚的少数人很难买到他的叙述。他当时是一名非常小的玩家角色，并一直保持到2018年。

# BCC继续存活的背后推手猜测

BCH在2017年11月15号启动硬分叉，在硬分叉之前其算力高点达到了6E（1E=1000P，1P=1000T）。分叉504032高度块的难度值为522462745900（12位数），这个难度值相对于今天BCH（2019年6月份）的难度值277448758528（12位数），甚至高出接近1倍。

为什么会有矿工继续投入算力挖掘高难度的原链BCC，这是明显的亏钱生意，谁烧掉了价值几十个BTC的算力成本，在3天内，挖掘原链并产出了6个块，BCC得以继续存活下来，产生了比特币创世以来唯一一次原链硬分叉。（原链硬分叉很难发生的主要原因在于巨大的成本门槛）。在挖出六个块之后，从区块记录上看，神秘算力使用单一挖矿地址持续了一个来月，使BCC彻底存活下来之后才撤离。这种情况可以排除矿工忘记切换主网的可能性，因为矿场在分叉前十天开始就已经部署好硬分叉的版本，到时自动激活，切换不会等到硬分叉发生高度，更不会等一个月的时间浪费大量的算力。硬分叉的版本没有发生错误，如果有的话，那么会有大量的矿场没有参与激活新的分叉。神秘算力在公共矿池启动后，确认BCC原链继续存活无误后，撤出算力后，由零散矿工组成的公共矿池在当天继续出块，两者之间的衔接关系很明显，等等这些迹象都排除了矿工忘记切换主网的可能性。

到底是谁，在背后投入巨资算力干了这件事情？到目前为止，仍然是迷雾重重，没有任何力量站出来承认造成此次硬分叉算力的来源。可谓是继中本聪失踪后，比特币历史上一大悬案。我们只能从逻辑和动机分析上做一些不完整的推导。

我们知道BCH的分叉，是有一股反对力量的，比特币社区对BCH的夺名动机一直以来是极尽嘲讽之能事，twitter有段时间是一天一副漫画。但是非常诡异的是，BCC的分叉存活，这股反对力量没有任何人站出来承认其投入算力使BCC存活，从动机上分析，厌恶所谓大区块路线的群体，也没有必要保持BCC的存活，而在此之后的各种迹象，反BCH的社群对于BCC更多的只是观望，并没有迅速组织起实际的力量投入，也证明了这一点。

如果不是BCH的反对派，除此之外，谁有动机？投入神秘的算力使BCC存活下来呢？我们进一步猜测这股力量来自BCH社区，而且是其中的实权力量，因为某种原因，不便于透露自身身份，所以在确认原链复活后默默撤离。在BCC分叉之后的36个小时，BitcoinABC开发组发布了一条公告，宣布了BCC继续出块，这条公告后来被删除了，但当时JIHAN WU转发了该公告，并保留在twitter上至今（https://twitter.com/JihanWu/status/930773631763755008），这是首先披露BCC出块存活的最原始信息。JIHAN WU为什么如此着急公告此事，我们当然也不得而知，但在此之后，这条消息迅速传播开来，进一步推动了原链复活的关注度。

这不禁让人猜测JIHAN WU有可能是BCC复活的背后推手，在没有其它依据的情况下，其实际动机也许耐人寻味。


